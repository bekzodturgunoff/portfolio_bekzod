---
import { getDictionary } from '../i18n';
import type { Locale } from '../i18n';

// Detect current language from URL
const path = Astro.url.pathname;
let currentLang: Locale = 'en';
if (path.startsWith('/ru')) currentLang = 'ru';
else if (path.startsWith('/ko')) currentLang = 'ko';

const t = getDictionary(currentLang);
---
<footer class="max-w-6xl mx-auto px-4 py-16 sm:py-20 text-xs sm:text-[12px] text-neutral-500 dark:text-neutral-400">
  <!-- Maintenance message -->
  <div class="mb-8 pb-8 border-b border-neutral-200 dark:border-white/10">
    <p class="text-[13px] text-neutral-600 dark:text-neutral-400 italic max-w-2xl">{t.footer.maintenance}</p>
  </div>

  <!-- Top band: desktop -->
  <div class="hidden sm:grid grid-cols-3 items-center gap-4 mb-6">
    <div>Bekzod Turgunov</div>
    <div class="h-px bg-neutral-200 dark:bg-white/10"></div>
    <div class="text-right">{new Date().getFullYear()}</div>
  </div>
  <!-- Top band: mobile -->
  <div class="sm:hidden flex items-center justify-between mb-6">
    <div>Bekzod T.</div>
    <div class="h-px flex-1 mx-4 bg-neutral-200 dark:bg-white/10"></div>
    <div>{new Date().getFullYear()}</div>
  </div>

  <!-- Bottom row -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6">
  <div class="text-neutral-600 dark:text-neutral-400">© {new Date().getFullYear()} Bekzod — {t.footer.reserved}</div>
    <div class="flex flex-wrap items-center justify-start sm:justify-end gap-x-4 gap-y-2">
  <a class="hover:text-neutral-900 dark:hover:text-neutral-50 transition-colors" href="mailto:bekzodturgunoff@gmail.com" rel="noreferrer">{t.footer.email}</a>
      <a class="hover:text-neutral-900 dark:hover:text-neutral-50 transition-colors whitespace-nowrap" href="tel:+8201079328573" rel="noreferrer">+82 10 7932 8573</a>
  <a class="hover:text-neutral-900 dark:hover:text-neutral-50 transition-colors" href="https://github.com/bekzodturgunoff" target="_blank" rel="noreferrer">{t.footer.github}</a>
  <a class="hover:text-neutral-900 dark:hover:text-neutral-50 transition-colors" href="https://t.me/bekzodturgunoff" target="_blank" rel="noreferrer">{t.footer.telegram}</a>
  <a class="hover:text-neutral-900 dark:hover:text-neutral-50 transition-colors" href="/resume/resume_Bekzod.docx" download>{t.footer.resume}</a>
    </div>
  </div>
</footer>
